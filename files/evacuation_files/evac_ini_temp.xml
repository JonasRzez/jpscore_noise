<?xml version="1.0" encoding="UTF-8" ?>

<JuPedSim project="scenario_ben" version="0.8"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:noNamespaceSchemaLocation="http://xsd.jupedsim.org/jps_geometry.xsd" unit="m">

<header>
  <!-- seed used for initialising random generator -->
  <!-- geometry file -->
  <seed>{{seed}}</seed>
  <max_sim_time>100</max_sim_time>
  <geometry>{{geo}}</geometry>
  <!-- traectories file and format -->
  <trajectories format="plain"  fps="{{fps}}">
    <file location="{{location}}" />
  </trajectories>
  <!-- where to store the logs -->
  <logfile>evac_log</logfile>
</header>

<traffic_constraints>
        <!-- doors states are: close or open -->
        <doors>
            <door trans_id="1" caption="main_exit" state="open" />
        </doors>
</traffic_constraints>

<agents operational_model_id="6">
        <agents_distribution>
                <group group_id="1" agent_parameter_id="1" room_id="1" subroom_id="1" number="{{N_ped}}"  router_id="1"x_min="-{{b}}"  x_max="{{b}}" y_min="0" y_max = "{{l}}"  />
        </agents_distribution>
</agents>

<operational_models>

    <model operational_model_id="6" description="Tordeux2015_adapt">
        <model_parameters>
            <solver>euler</solver>
            <stepsize>{{stepsize}}</stepsize>
            
            <exit_crossing_strategy>3</exit_crossing_strategy>
            <linkedcells enabled="true" cell_size="2.2" />
            <force_ped a="5" D="0.07" />
            <force_wall a="5" D="0.02" />
        </model_parameters>
        <agent_parameters agent_parameter_id="1">
            <v0 mu="1.34" sigma="0.00" />
            <bmax mu="{{r}}" sigma="0.00000" /> <!-- this is l, assuming peds are circles with constant radius -->
            <bmin mu="{{r}}" sigma="0.00000" />
            <amin mu="{{r}}" sigma="0.00000" />
            <tau mu="0.5" sigma="0.00" />
            <atau mu="0.0" sigma="0.00000" />
            <T mu="1" sigma="0.00" />
        </agent_parameters>
    </model>
</operational_models>

<route_choice_models>
        <router router_id="1" description="ff_global_shortest">
        </router>
</route_choice_models>
</JuPedSim>
